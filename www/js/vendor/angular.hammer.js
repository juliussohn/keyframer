!function(e,t,n){"use strict";function i(e,t){if(!e||!t||!t.type)return null;var i;return i=t.type.indexOf("pan")>-1?new n.Pan(t):t.type.indexOf("pinch")>-1?new n.Pinch(t):t.type.indexOf("press")>-1?new n.Press(t):t.type.indexOf("rotate")>-1?new n.Rotate(t):t.type.indexOf("swipe")>-1?new n.Swipe(t):new n.Tap(t),e.add(i),i}function r(e,t){return e&&(t.preventGhosts=e.preventGhosts),t}function o(e){return e.indexOf("pan")>-1?"pan":e.indexOf("pinch")>-1?"pinch":e.indexOf("press")>-1?"press":e.indexOf("rotate")>-1?"rotate":e.indexOf("swipe")>-1?"swipe":"tap"}function a(e,t,n){if(e&&t){var r=e.get(t.type);r||(r=i(e,t)),t.directions||("pan"===t.type||"swipe"===t.type?t.directions="DIRECTION_ALL":t.type.indexOf("left")>-1?t.directions="DIRECTION_LEFT":t.type.indexOf("right")>-1?t.directions="DIRECTION_RIGHT":t.type.indexOf("up")>-1?t.directions="DIRECTION_UP":t.type.indexOf("down")>-1?t.directions="DIRECTION_DOWN":t.directions=""),t.direction=p(t.directions),r.set(t),t.recognizeWith&&(e.get(t.recognizeWith)||i(e,{type:t.recognizeWith}),r.recognizeWith(e.get(t.recognizeWith))),t.dropRecognizeWith&&e.get(t.dropRecognizeWith)&&r.dropRecognizeWith(e.get(t.dropRecognizeWith)),t.requireFailure&&(e.get(t.requireFailure)||i(e,{type:t.requireFailure}),r.requireFailure(e.get(t.requireFailure))),t.dropRequireFailure&&e.get(t.dropRequireFailure)&&r.dropRequireFailure(e.get(t.dropRequireFailure)),t.preventGhosts&&n&&c(n)}}function p(e){var i=0;return t.forEach(e.split("|"),function(e){n.hasOwnProperty(e)&&(i|=n[e])}),i}function c(t){function n(e){for(var t=0;t<a.length;t++){var n=a[t][0],i=a[t][1];if(Math.abs(e.clientX-n)<p&&Math.abs(e.clientY-i)<p){e.stopPropagation(),e.preventDefault();break}}}function i(){a=[]}function r(){a.splice(0,1)}function o(e){if(e.touches.length-e.changedTouches.length<=0){var t=e.changedTouches[0];a.push([t.clientX,t.clientY]),setTimeout(r,c)}}if(t){var a=[],p=25,c=2500;"ontouchstart"in e&&(t[0].addEventListener("touchstart",i,!0),t[0].addEventListener("touchend",o,!0),t[0].addEventListener("click",n,!0),t[0].addEventListener("mouseup",n,!0))}}if("undefined"==typeof t)if("undefined"!=typeof require&&require)try{t=require("angular")}catch(u){return console.log("ERROR: Angular Hammer could not require() a reference to angular")}else{if("undefined"==typeof e.angular)return console.log("ERROR: Angular Hammer could not find or require() a reference to angular");t=e.angular}if("undefined"==typeof n)if("undefined"!=typeof require&&require)try{n=require("hammerjs")}catch(u){return console.log("ERROR: Angular Hammer could not require() a reference to Hammer")}else{if("undefined"==typeof e.Hammer)return console.log("ERROR: Angular Hammer could not find or require() a reference to Hammer");n=e.Hammer}var h=["hmCustom:custom","hmSwipe:swipe","hmSwipeleft:swipeleft","hmSwiperight:swiperight","hmSwipeup:swipeup","hmSwipedown:swipedown","hmPan:pan","hmPanstart:panstart","hmPanmove:panmove","hmPanend:panend","hmPancancel:pancancel","hmPanleft:panleft","hmPanright:panright","hmPanup:panup","hmPandown:pandown","hmPress:press","hmPressup:pressup","hmRotate:rotate","hmRotatestart:rotatestart","hmRotatemove:rotatemove","hmRotateend:rotateend","hmRotatecancel:rotatecancel","hmPinch:pinch","hmPinchstart:pinchstart","hmPinchmove:pinchmove","hmPinchend:pinchend","hmPinchcancel:pinchcancel","hmPinchin:pinchin","hmPinchout:pinchout","hmTap:tap","hmDoubletap:doubletap"];t.module("hmTouchEvents",[]),t.forEach(h,function(e){var i=e.split(":"),p=i[0],c=i[1];t.module("hmTouchEvents").directive(p,["$parse","$window",function(e,i){return{restrict:"A",link:function(u,h,s){if(!n||!i.addEventListener)return"hmTap"===p&&h.bind("click",v),void("hmDoubletap"===p&&h.bind("dblclick",v));var d=h.data("hammer"),m=t.fromJson(s.hmManagerOptions),f=t.fromJson(s.hmRecognizerOptions);d||(d=new n.Manager(h[0],m),h.data("hammer",d),u.$on("$destroy",function(){d.destroy()}));var l=s[p],g=e(l),v=function(e){function t(){var t=g(u,{$event:e});t&&t.call(u,e)}var n=u.$root.$$phase,i=d.get(e.type);e.element=h,i&&(i.options.preventDefault&&e.preventDefault(),i.options.stopPropagation&&e.srcEvent.stopPropagation()),"$apply"===n||"$digest"===n?t():u.$apply(t)};t.isArray(f)?t.forEach(f,function(e){"hmCustom"===p?c=e.event:(e.type||(e.type=o(c)),e.event&&delete e.event),("hmCustom"===p||c.indexOf(e.type)>-1)&&a(d,r(m,e),h)}):t.isObject(f)?("hmCustom"===p?c=f.event:(f.type||(f.type=o(c)),f.event&&delete f.event),("hmCustom"===p||c.indexOf(f.type)>-1)&&a(d,r(m,f),h)):"hmCustom"!==p?(f={type:o(c)},"hmDoubletap"===p&&(f.event=c,f.taps=2,d.get("tap")&&(f.recognizeWith="tap")),f.type.indexOf("pan")>-1&&d.get("swipe")&&(f.recognizeWith="swipe"),f.type.indexOf("pinch")>-1&&d.get("rotate")&&(f.recognizeWith="rotate"),a(d,r(m,f),h)):c=null,c&&d.on(c,v)}}}])})}(window,window.angular,window.Hammer);